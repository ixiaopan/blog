<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<title>Sorting</title>



  




<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
  rel="alternate"
  type="application/rss+xml"
  href="https://ixiaopan.github.io/blog/index.xml"
  title=""
/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Sorting"/>
<meta name="twitter:description" content="Data structure and algorithms are two important courses in Computer Science. Knowing how to utilise appropriate data structures and algorithms to fit our problems can greatly decrease memory space and improve performance. Besides, the ideas behind the classical algorithms are also worth learning to strengthen our logical thinking skills. Well, this series of articles are simply quick notes to help refresh my knowledge for future reference. So let&rsquo;s start from sorting."/>




<link rel="stylesheet" href="https://ixiaopan.github.io/blog/fontawesome/css/all.min.css" />




<link
  crossorigin="anonymous"
  href="/blog/css/styles.min.css"
  integrity=""
  rel="preload stylesheet"
  as="style"
/>


  <link rel="stylesheet" href="https://ixiaopan.github.io/blog/css/main.css" />



<link
  id="dark-mode-theme"
  crossorigin="anonymous"
  href="/blog/css/dark.min.css"
  integrity=""
  rel="preload stylesheet"
  as="style"
/>


<script>
  var darkTheme = document.getElementById('dark-mode-theme')
  var storedTheme = localStorage.getItem('dark-mode-storage')
  if (storedTheme === 'dark') {
    darkTheme.disabled = false
  } else if (storedTheme === 'light') {
    darkTheme.disabled = true
  }
</script>



<script defer crossorigin="anonymous" src="/blog/js/theme.js" integrity=""></script>

<script src="https://ixiaopan.github.io/blog/js/instantpage.min.js" type="module" defer></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css" integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js" integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>

 



<meta name="generator" content="Hugo 0.91.0" />
  </head>
  <body>
    
  




<header>
  <nav class="navbar">
  <div class="nav">
    
      <a href="https://ixiaopan.github.io/blog/" class="nav-logo">
        <img
          src="https://ixiaopan.github.io/blog/images/me.JPG"
          width="50"
          height="50"
          alt="Logo"
        />
      </a>
    

    <ul class="nav-links">
      
        
          <li>
            <a href="/blog/search" id="Search"
              ><em class="fas fa-search fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/blog/about" id="About"
              ><em class="fas fa-user fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/blog/categories" id="Category"
              ><em class="fas fa-folder-open fa-lg"></em
            ></a>
          </li>
          
      
    </ul>
  </div>
</nav>


  
  <div class="intro-header">
    <h1 class="post-heading">
      Sorting
    </h1>
    <span class="meta-post">
  <em class="fa fa-calendar-alt"></em
  >&nbsp;Jul 11, 2021
  
  &nbsp;&nbsp;<i class="fas fa-clock"></i>&nbsp;5 min read

  
    &nbsp;&nbsp;&nbsp;<em class="fa fa-folder-open"></em>&nbsp;
    
      <a
        href="https://ixiaopan.github.io/blog/categories/misc/"
        >Misc</a
      >&nbsp;
    
  
</span>

  </div>
  
</header>

    
  <div class="container" role="main">
    <div class="inner">
      <article class="article" class="blog-post">
        
  <p>Data structure and algorithms are two important courses in Computer Science. Knowing how to utilise appropriate data structures and algorithms to fit our problems can greatly decrease memory space and improve performance. Besides, the ideas behind the classical algorithms are also worth learning to strengthen our logical thinking skills. Well, this series of articles are simply quick notes to help refresh my knowledge for future reference. So let&rsquo;s start from sorting.</p>
<h2 id="bubble-sort">Bubble Sort</h2>
<h3 id="idea">Idea</h3>
<p>Bubble sort is the first sorting algorithm I learned in the module &lsquo;Data Structure&rsquo;. The idea is simple,</p>
<blockquote>
<p>each time, we compare numbers in pairs and make an exchange until we put the largest number at the rightmost position</p>
</blockquote>
<p>Say we have $n = 6$ numbers shown in Figure 1,</p>
<p>
  <figure>
    <img src="/blog/post/images/sort_toy_data.png" alt="">
    <figcaption>Figure 1: Toy data used throughout this post</figcaption>
  </figure>
</p>
<p>For the first iteration, there are <code>n = 6 </code> items left to sort, so we need to compare <code>n - 1 = 5</code> pairs of elements consecutively.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">4</span>), <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>
<span style="color:#ae81ff">4</span>, (<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">2</span>), <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>
<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>, (<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">16</span>), <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>
<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">10</span>), <span style="color:#ae81ff">12</span>
<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, (<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">12</span>)
</code></pre></div><p>Similarly, for the second loop, there are <code>n - 1 = 5</code> items left to sort, and we need to compare <code>n - 2 = 4</code> pairs of elements.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>), <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>,   <span style="color:#ae81ff">16</span>
<span style="color:#ae81ff">2</span>, (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">9</span>), <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>,   <span style="color:#ae81ff">16</span>
<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, (<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>), <span style="color:#ae81ff">12</span>,   <span style="color:#ae81ff">16</span>
<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>),   <span style="color:#ae81ff">16</span>
</code></pre></div><p>From this,  we can conclude that, for the $i\text{th}$ loop,</p>
<ul>
<li>there are $n - i$ items left to sort</li>
<li>consequently, we need to compare $n - i - 1$ times</li>
</ul>
<p>Since we place the largest number at the rightmost position for each loop, so there are $n-1$  loops in total. The following table shows the above procedure.</p>
<table>
<thead>
<tr>
<th>iterations</th>
<th>times we need to compare</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>n - 1</td>
</tr>
<tr>
<td>1</td>
<td>n - 2</td>
</tr>
<tr>
<td>2</td>
<td>n - 3</td>
</tr>
<tr>
<td>&hellip;</td>
<td></td>
</tr>
<tr>
<td>n - 2</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3 id="code">Code</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bubbleSort</span>(nums):
    n <span style="color:#f92672">=</span> len(nums)

    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>): <span style="color:#75715e"># each loop</span>
        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n <span style="color:#f92672">-</span> i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>):
            <span style="color:#66d9ef">if</span> nums[j] <span style="color:#f92672">&gt;</span> nums[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]:
                nums[j], nums[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> nums[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>], nums[j]

    <span style="color:#66d9ef">return</span> nums        

bubbleSort([<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>])
<span style="color:#75715e"># [2, 4, 9, 10, 12, 16]</span>
</code></pre></div><h3 id="analysis">Analysis</h3>
<p><strong>Stable - Yes</strong></p>
<p>Since we only swap values when the previous item is greater than the latter item, the items with the same values will keep their order.</p>
<p><strong>Complexity - O($n^2$)</strong></p>
<p>From the table above, we can see that,</p>
<ul>
<li>in the worst case, we need to run comparison $1 + 2 + &hellip; + (n - 1) = \frac{(n-1)n}{2}$ times</li>
<li>in the best case, we still need to compare $\frac{(n-1)n}{2}$ times</li>
</ul>
<p>In this example, we notice that <code>2, (4, 9), 10, 12, 16</code> have been in order, but the comparison continues. One way is to set a flag to notice it. We can do this because Bubble Sort is an in-place sorting, which means the list has sorted in ascending order while comparing.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bubbleSort</span>(nums):
    n <span style="color:#f92672">=</span> len(nums)
    
    has_sorted <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>): <span style="color:#75715e"># loop passes</span>
        <span style="color:#66d9ef">if</span> has_sorted:
            <span style="color:#66d9ef">break</span>

        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n <span style="color:#f92672">-</span> i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>):            
            <span style="color:#66d9ef">if</span> nums[j] <span style="color:#f92672">&gt;</span> nums[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]:
                nums[j], nums[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> nums[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>], nums[j]
                has_sorted <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
            <span style="color:#66d9ef">else</span>:
                has_sorted <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>

    <span style="color:#66d9ef">return</span> nums        

</code></pre></div><p>Now the complexity of the enhanced Bubble Sort for the bset case is $O(n)$ while the worset case still stays the same.</p>
<h2 id="selection-sort">Selection Sort</h2>
<h3 id="idea-1">Idea</h3>
<p>Selection sort is similar to Bubble sort. It first finds the index of the largest value in the remaining list, then makes an exchange between the largest item and the rightmost item for each loop. Therefore, the exchange happens only once in each iteration.</p>
<p>Like Bubble sort, there are $n - 1$ iterations. For each iteration, we need to find the largest value from the remaining $n -i$ items.</p>
<h3 id="code-1">Code</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">selectionSort</span>(nums):
    n <span style="color:#f92672">=</span> len(nums)
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>):
        max_index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, n <span style="color:#f92672">-</span> i):
            <span style="color:#66d9ef">if</span> nums[j] <span style="color:#f92672">&gt;</span> nums[max_index]:
                max_index <span style="color:#f92672">=</span> j

        nums[n<span style="color:#f92672">-</span>i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], nums[max_index] <span style="color:#f92672">=</span> nums[max_index], nums[n<span style="color:#f92672">-</span>i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]

    <span style="color:#66d9ef">return</span> nums

</code></pre></div><h3 id="analysis-1">Analysis</h3>
<p><strong>Stable - No</strong></p>
<p>After each iteration, we swap two items, so the order of the items are not ensured.</p>
<p><strong>Complexity</strong></p>
<p>Obviously, no matter the best case or the worst case, we need $O(n^2)$ comparisons.</p>
<h2 id="insertion-sort">Insertion Sort</h2>
<h3 id="idea-2">Idea</h3>
<p>As the name suggests, we insert an item into the proper position of the well-sorted sublist each time. In other words, we maintain the sublist sorted in each iteration.</p>
<p>But how? For each $x_i$ in the sorted list, we compare $x_i$ with the being sorted item $x'$,</p>
<ul>
<li>if $x' &gt;= x_i$,
<ul>
<li>simply put $x'$ behind $x_i$</li>
<li>end</li>
</ul>
</li>
<li>if $x' &lt; x_i$,
<ul>
<li>move $x_i$ a step forward (in the right direction)</li>
<li>then move on to the next $x_i$ in the sorted list</li>
<li>repeat the above comparison</li>
</ul>
</li>
<li>or we reach the start point, then we know that $x'$ is the smallest number so far. For example, $2$ is placed at the beginning of the list during the third iteration shown in Figure 2.</li>
</ul>
<p>
  <figure>
    <img src="/blog/post/images/insert_sort.png" alt="">
    <figcaption>Figure 2: Insertion sort</figcaption>
  </figure>
</p>
<h3 id="code-2">Code</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">insertionSort</span>(nums):
    n <span style="color:#f92672">=</span> len(nums)

    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, n):
        cur_elem <span style="color:#f92672">=</span> nums[i]
        cur_index <span style="color:#f92672">=</span> i
        
        <span style="color:#66d9ef">while</span> cur_index <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> cur_elem <span style="color:#f92672">&lt;</span> nums[cur_index <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]:
            nums[cur_index] <span style="color:#f92672">=</span> nums[cur_index <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]
            cur_index <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>

        nums[cur_index] <span style="color:#f92672">=</span> cur_elem
    
    <span style="color:#66d9ef">return</span> nums

</code></pre></div><h3 id="analysis-2">Analysis</h3>
<p><strong>Stable - Yes</strong></p>
<p><strong>Complexity</strong></p>
<p>For the best case where all items are sorted well and the corresponding sublist is sorted, there is no need to do a move operation. Therefore, the complexity is $O(n)$.</p>
<p>For the worst case, we still need $O(n^2$) comparisons.</p>
<h2 id="quick-sort">Quick Sort</h2>
<h3 id="idea-3">Idea</h3>
<p>Quick sort adopts the idea of divide and conquer. The main strategy is that we do a partition at the pivot value, dividing the list into two parts</p>
<ul>
<li>the left part contains items that are smaller than the pivot value</li>
<li>the right part contains items that are greater than the pivot value</li>
</ul>
<p>How? Well, we use two pointers: the left pointer and the right pointer that point to the first and the last of the remaining list respectively.</p>
<ul>
<li>Move the left pointer forward(towards the right direction) until the pointed element is greater than the pivot value</li>
<li>Move the right pointer backward(towards the left direction) until the pointed element is smaller than the pivot value</li>
</ul>
<p>But how to choose the pivot? Well, you could use the first element of a list.</p>
<p>Let&rsquo;s take an example. In Figure 3, we choose 9 as our pivot, after some steps we stop at the second row. We do a swap between pointers and then continue moving on until the two pointers pass by each other (the forth row). Well, since the two pointers have met, we cannot move further towards either the right or the left direction, which means that we are done. Obviously, the pivot value should be between the right pointer and the left pointer, so we do an exchange again.</p>
<p>
  <figure>
    <img src="/blog/post/images/quick_sort_2.png" alt="">
    <figcaption>Figure 3: Quick Sort</figcaption>
  </figure>
</p>
<h3 id="analysis-3">Analysis</h3>
<p><strong>Stable - No</strong></p>
<p>We do a swap between pointers, so the order of elements are not maintained.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://runestone.academy/runestone/books/published/pythonds/SortSearch/TheQuickSort.html">Problem Solving with Algorithms and Data Structures using Python</a></li>
</ul>



        
      </article>

      
      <aside class="article-aside">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#bubble-sort">Bubble Sort</a>
      <ul>
        <li><a href="#idea">Idea</a></li>
        <li><a href="#code">Code</a></li>
        <li><a href="#analysis">Analysis</a></li>
      </ul>
    </li>
    <li><a href="#selection-sort">Selection Sort</a>
      <ul>
        <li><a href="#idea-1">Idea</a></li>
        <li><a href="#code-1">Code</a></li>
        <li><a href="#analysis-1">Analysis</a></li>
      </ul>
    </li>
    <li><a href="#insertion-sort">Insertion Sort</a>
      <ul>
        <li><a href="#idea-2">Idea</a></li>
        <li><a href="#code-2">Code</a></li>
        <li><a href="#analysis-2">Analysis</a></li>
      </ul>
    </li>
    <li><a href="#quick-sort">Quick Sort</a>
      <ul>
        <li><a href="#idea-3">Idea</a></li>
        <li><a href="#analysis-3">Analysis</a></li>
      </ul>
    </li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
      
      </aside>
    </div>
    
    
    
    
      

    
  </div>

    <footer>
  

<div class="social-icons">
  
    
    
      
      <a href="mailto:?to=xiaopan.wpp@outlook.com" name="Email">
        <em class="fas fa-envelope"></em>
      </a>
    
       &nbsp;&nbsp;&nbsp;
      <a href="https://github.com/ixiaopan" name="GitHub">
        <em class="fab fa-github"></em>
      </a>
    
       &nbsp;&nbsp;&nbsp;
      <a href="https://www.linkedin.com/in/ixiaopan" name="Linkedin">
        <em class="fab fa-linkedin"></em>
      </a>
    
       &nbsp;&nbsp;&nbsp;
      <a href="https://space.bilibili.com/22910840" name="Bilibili">
        <em class="fab fa-youtube"></em>
      </a>
    
  

  
</div>


  
  <div class="container">
    <p class="credits copyright">
      <a href="https://ixiaopan.github.io/blog/about">ixiaopan</a>
      &nbsp;&copy;
      2023
      
      &nbsp;&ndash;&nbsp;
      <em class="fas fa-moon" id="dark-mode-toggle"></em>
    </p>

    <p class="credits theme-by">
      Powered By <a href="https://gohugo.io">Hugo</a>&nbsp;
      Theme
      <a href="https://github.com/matsuyoshi30/harbor">Harbor</a>
    </p>
  </div>
</footer>

  </body>
</html>
