<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<title>Package Manager</title>



  
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-203640627-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-203640627-1');
  </script>
  




<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
  rel="alternate"
  type="application/rss+xml"
  href="https://ixiaopan.github.io/blog/index.xml"
  title=""
/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Package Manager"/>
<meta name="twitter:description" content="Learn how to use the modern package managers."/>




<link rel="stylesheet" href="https://ixiaopan.github.io/blog/fontawesome/css/all.min.css" />




<link
  crossorigin="anonymous"
  href="/blog/css/styles.min.css"
  integrity=""
  rel="preload stylesheet"
  as="style"
/>


  <link rel="stylesheet" href="https://ixiaopan.github.io/blog/css/main.css" />



<link
  id="dark-mode-theme"
  crossorigin="anonymous"
  href="/blog/css/dark.min.css"
  integrity=""
  rel="preload stylesheet"
  as="style"
/>


<script>
  var darkTheme = document.getElementById('dark-mode-theme')
  var storedTheme = localStorage.getItem('dark-mode-storage')
  if (storedTheme === 'dark') {
    darkTheme.disabled = false
  } else if (storedTheme === 'light') {
    darkTheme.disabled = true
  }
</script>



<script defer crossorigin="anonymous" src="/blog/js/theme.js" integrity=""></script>

<script src="https://ixiaopan.github.io/blog/js/instantpage.min.js" type="module" defer></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css" integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js" integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>

 



<meta name="generator" content="Hugo 0.91.0" />
  </head>
  <body>
    
  




  <header>
    <nav class="navbar">
  <div class="nav">
    
      <a href="https://ixiaopan.github.io/blog/" class="nav-logo">
        <img
          src="https://ixiaopan.github.io/blog/images/me.JPG"
          width="50"
          height="50"
          alt="Logo"
        />
      </a>
    

    <ul class="nav-links">
      
        
          <li>
            <a href="/blog/about/" id="About"
              ><em class="fas fa-user fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/blog/search/" id="Search"
              ><em class="fas fa-search fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/blog/archives" id="Archives"
              ><em class="fas fa-archive fa-lg"></em
            ></a>
          </li>
          
      
    </ul>
  </div>
</nav>


    
    <div class="intro-header">
      <div class="container">
        <div class="post-heading">
          
            <h1>
              Package Manager
            </h1>
          
          
            <span class="meta-post">
  <em class="fa fa-calendar-alt"></em
  >&nbsp;Jan 7, 2022
  
  &nbsp;&nbsp;<i class="fas fa-clock"></i>&nbsp;2 min read

  
    &nbsp;&nbsp;&nbsp;<em class="fa fa-folder-open"></em>&nbsp;
    
      <a
        href="https://ixiaopan.github.io/blog/categories/frontend/"
        >frontend</a
      >&nbsp;
    
  
</span>

          
        </div>
      </div>
    </div>
    
  </header>

    
  <div class="container" role="main">
    <div class="inner">
      <article class="article" class="blog-post">
        
  <p>Learn how to use the modern package managers.</p>
<h2 id="npm">npm</h2>
<h3 id="version">version</h3>
<ul>
<li><code>major</code></li>
<li><code>minor</code></li>
<li><code>path</code></li>
<li><code>prerelease</code>
<ul>
<li><code>alpha</code>: WIP, unstable</li>
<li><code>beta</code>: features completed but with unknown bugs</li>
<li><code>rc</code>: ready to release</li>
</ul>
</li>
</ul>
<p>Suppose the current version is <code>1.2.3</code>, there are many ways to update the version.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 2.0.0</span>
npm version major

<span style="color:#75715e"># 1.3.0</span>
npm version minor

<span style="color:#75715e"># 1.2.4</span>
npm version patch

npm version &lt;version&gt;

<span style="color:#75715e"># 1.2.4-0</span>
npm version prerelease -m <span style="color:#e6db74">&#34;update %s&#34;</span> --no-git-tag-version


<span style="color:#75715e"># if the current version is 1.2.3-alpha.0, then it becomes 1.2.3-alpha.1</span>
npm version prerelease --preid<span style="color:#f92672">=</span>&lt;prerelease-id&gt;
</code></pre></div><h3 id="tag">tag</h3>
<p>By default, <code>npm publish</code> will tag your package with the <code>latest</code> tag.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># add tags to the existed pkg</span>
npm &lt;yourtag&gt; add &lt;pkg&gt;@&lt;version&gt;

npm publish --tag beta

npm install somepkg@beta
</code></pre></div><h3 id="link">link</h3>
<p><code>npm link</code> can be used to debug your local package that is still developing. Suppose your project relies on the developing package <code>pkgA</code>  as shown below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">- project
  - node_modules
  	- pkgA
</code></pre></div><p>To debug pkgA, we follow th following steps</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~ cd pkgA
~ npm link

~ cd project
~ npm link pkgA
</code></pre></div><p>When you are done, you can remove local dependency using <code>npm unlink</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd project
npm unlink pkgA
</code></pre></div><p>You can also opt to remove the global link</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd pkgA
npm uninstall pkgA -g
</code></pre></div><h3 id="npmrc">npmrc</h3>
<p>This is the npm config file, which can be used to update the global or user-level config files. There are four relevant files</p>
<ul>
<li>
<p>project-related file (<code>path-to-project/.npmrc</code>)</p>
</li>
<li>
<p>user-level config file (<code>~/.npmrc</code>)</p>
</li>
<li>
<p>the global config file (<code>$PREFIX/etc/.npmrc</code>)</p>
</li>
<li>
<p>the built-in config file</p>
</li>
</ul>
<p>To access the the user-level config file, you can run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm config get userconfig
</code></pre></div><p>Likewise, to access the the global config file, run this command,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm config get prefix
</code></pre></div><p>
  <img src="/blog/post/images/npmrc.png" alt="">
</p>
<p>How to use it? One of the useful settings is <code>registry</code>. For example, we can set the default registry for our project to speed up the download progress.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd project
touch .npmrc
</code></pre></div><p>Then specify your registry in <code>.npmrc</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">registry<span style="color:#f92672">=</span>https://registry.npm.taobao.org/
</code></pre></div><p>If you have multiple project, you can also set the user-level or global config file</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm config set registry https://registry.npm.taobao.org/ <span style="color:#f92672">[</span>-g<span style="color:#f92672">]</span>
</code></pre></div><p>To remove the configuration, you just need to specify the key and delete it</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm config delete &lt;key&gt;
</code></pre></div><h2 id="yarn">yarn</h2>
<h3 id="lock">lock</h3>
<p>yarn is another widely used package manager. When running <code>yarn install</code>, the file <code>yarn.lock</code> will be created.</p>
<p>So, what&rsquo;s the use of this file? As its name suggests, <code>yarn.lock</code> will lock down the versions of <code>dependencies</code> specified in the <code>package.json</code>, which ensures that everyone in a team has the same dependencies.</p>
<h3 id="upgrade">upgrade</h3>
<p>Wait, how to upgrade versions of dependencies? Simply run <code>yarn upgrade</code>.</p>
<p>But this command can only upgrade versions between specified version range. If you need the latest version ignoring the specified version range, run <code>yarn upgrade --latest</code>.</p>
<h2 id="pnpm">pnpm</h2>
<h2 id="npx">npx</h2>
<h2 id="nrm">nrm</h2>
<p>install</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install nrm -g
nrm ls
</code></pre></div><p>add your own registry</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nrm add localnpm http://localhost:4873/
nrm use localnpm
</code></pre></div><p>
  <img src="/blog/post/images/nrm-ls.png" alt="">
</p>
<p>remove</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nrm del localnpm
</code></pre></div><h2 id="references">References</h2>
<ul>
<li><a href="http://npm.github.io/publishing-pkgs-docs/publishing/index.html">publish-pkgs-docs</a></li>
<li><a href="https://docs.npmjs.com/cli/v6/configuring-npm/package-json">package.json</a></li>
</ul>



        
      </article>

      
      <aside class="article-aside">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#npm">npm</a>
      <ul>
        <li><a href="#version">version</a></li>
        <li><a href="#tag">tag</a></li>
        <li><a href="#link">link</a></li>
        <li><a href="#npmrc">npmrc</a></li>
      </ul>
    </li>
    <li><a href="#yarn">yarn</a>
      <ul>
        <li><a href="#lock">lock</a></li>
        <li><a href="#upgrade">upgrade</a></li>
      </ul>
    </li>
    <li><a href="#pnpm">pnpm</a></li>
    <li><a href="#npx">npx</a></li>
    <li><a href="#nrm">nrm</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
      
      </aside>
    </div>
    
    
    
    
      

    
  </div>

    <footer>
  

<div class="social-icons">
  
    
    
      
      <a href="mailto:?to=xiaopan.wpp@outlook.com" name="Email">
        <em class="fas fa-envelope"></em>
      </a>
    
       &nbsp;&nbsp;&nbsp;
      <a href="https://github.com/ixiaopan" name="GitHub">
        <em class="fab fa-github"></em>
      </a>
    
       &nbsp;&nbsp;&nbsp;
      <a href="https://www.linkedin.com/in/ixiaopan" name="Linkedin">
        <em class="fab fa-linkedin"></em>
      </a>
    
       &nbsp;&nbsp;&nbsp;
      <a href="https://space.bilibili.com/22910840" name="Bilibili">
        <em class="fab fa-youtube"></em>
      </a>
    
  

  
</div>


  
  <div class="container">
    <p class="credits copyright">
      <a href="https://ixiaopan.github.io/blog/about">ixiaopan</a>
      &nbsp;&copy;
      2022
      
      &nbsp;&ndash;&nbsp;
      <em class="fas fa-moon" id="dark-mode-toggle"></em>
    </p>

    <p class="credits theme-by">
      Powered By <a href="https://gohugo.io">Hugo</a>&nbsp;
      Theme
      <a href="https://github.com/matsuyoshi30/harbor">Harbor</a>
    </p>
  </div>
</footer>

  </body>
</html>
